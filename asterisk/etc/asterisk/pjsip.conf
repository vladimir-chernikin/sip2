; pjsip.conf ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è 1001 + –ë–∏–ª–∞–π–Ω

[global]
type=global
endpoint_identifier_order=username,ip,anonymous

; ===== –¢–†–ê–ù–°–ü–û–†–¢ UDP =====
[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060
external_media_address=109.172.46.197
external_signaling_address=109.172.46.197
local_net=172.18.0.0/16   ; üîß Docker —Å–µ—Ç—å
local_net=172.16.0.0/12
local_net=10.0.0.0/8
local_net=192.168.0.0/16

; ===== AOR 1001 =====
[1001]
type=aor
max_contacts=1
remove_existing=yes
remove_unavailable=yes
default_expiration=60
qualify_frequency=30
qualify_timeout=3.0

; ===== AUTH 1001 =====
[1001]
type=auth
auth_type=userpass
username=1001
password=1001pass

; ===== ENDPOINT 1001 =====
[1001]
type=endpoint
context=from-internal
disallow=all
allow=alaw
allow=ulaw
allow=slin16
transport=transport-udp
auth=1001
aors=1001
direct_media=no
dtmf_mode=rfc4733
rewrite_contact=yes
rtp_symmetric=yes
force_rport=yes
rtp_keepalive=5

; ===== –ë–ò–õ–ê–ô–ù SIP –¢–†–ê–ù–ö (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è) =====

; AOR –¥–ª—è –ë–∏–ª–∞–π–Ω
[beeline]
type=aor
contact=sip:SIP030FQU0451O@ip.beeline.ru
qualify_frequency=30
qualify_timeout=5.0

; AUTH –¥–ª—è –ë–∏–ª–∞–π–Ω
[beeline]
type=auth
auth_type=userpass
username=SIP030FQU0451O@ip.beeline.ru
password=ZAQ12wsx-

; REGISTER –¥–ª—è –ë–∏–ª–∞–π–Ω (–∏—Å—Ö–æ–¥—è—â–∏–µ)
[beeline-reg]
type=registration
transport=transport-udp
outbound_auth=beeline
server_uri=sip:ip.beeline.ru:5060
client_uri=sip:SIP030FQU0451O@ip.beeline.ru
retry_interval=60
expiration=300
contact_user=SIP030FQU0451O

; IDENTIFY –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –æ—Ç –ë–∏–ª–∞–π–Ω –ø–æ IP
[beeline-identify]
type=identify
endpoint=beeline
match=185.243.5.36
match=51.91.168.102
match=84.201.137.0
match=185.150.191.123
match=172.110.223.6

; AOR –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö (–ø—É—Å—Ç–æ–π)
[beeline-in-aor]
type=aor
remove_existing=yes
remove_unavailable=yes
max_contacts=1

; ENDPOINT –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö
[beeline]
type=endpoint
context=from-beeline
disallow=all
allow=ulaw          ; üîß PCMU —Å–Ω–∞—á–∞–ª–∞ (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
allow=alaw         ; G.711 A-law
transport=transport-udp
aors=beeline         ; üîß –ò—Å–ø–æ–ª—å–∑—É–µ–º beeline AOR (—Å contact) –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö
direct_media=no
dtmf_mode=auto
rewrite_contact=yes
rtp_symmetric=yes   ; üîß –í–∫–ª—é—á–µ–Ω–æ (–∫–∞–∫ –≤ —Ä–∞–±–æ—á–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
force_rport=yes
rtp_keepalive=5
from_user=SIP030FQU0451O
from_domain=ip.beeline.ru
callerid="713433506036" <713433506036>   ; üîß –ù–æ–º–µ—Ä –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö CallerID
send_rpid=yes                          ; üîß –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å Remote-Party-ID —Å CallerID
media_address=109.172.46.197
trust_id_inbound=yes
inband_progress=yes
language=ru
